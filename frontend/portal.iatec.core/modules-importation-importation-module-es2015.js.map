{"version":3,"sources":["./src/app/modules/importation/central-upload/central-upload.component.html","./src/app/modules/importation/central-upload/central-upload.component.scss","./src/app/modules/importation/central-upload/central-upload.component.ts","./src/app/modules/importation/importation-routes.guard.ts","./src/app/modules/importation/importation-routing.module.ts","./src/app/modules/importation/importation.module.ts","./src/app/modules/importation/services/importation.service.ts"],"names":[],"mappings":"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","file":"modules-importation-importation-module-es2015.js","sourcesContent":["export default \"<app-loader [visibility]=\\\"loading\\\"></app-loader>\\r\\n<div class=\\\"container-fluid\\\">\\r\\n\\t<div class=\\\"row mt-3\\\">\\r\\n\\t\\t<div class=\\\"col-lg-12\\\">\\r\\n\\t\\t\\t<nav aria-label=\\\"breadcrumb\\\">\\r\\n\\t\\t\\t\\t<ol class=\\\"breadcrumb\\\">\\r\\n\\t\\t\\t\\t\\t<li class=\\\"breadcrumb-item material-icons\\\" aria-current=\\\"page\\\">cloud_upload</li>\\r\\n\\t\\t\\t\\t\\t<li class=\\\"breadcrumb-item active\\\" aria-current=\\\"page\\\">Central de Upload</li>\\r\\n\\t\\t\\t\\t</ol>\\r\\n\\t\\t\\t</nav>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<section>\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<div class=\\\"col-lg-12\\\">\\r\\n\\t\\t\\t\\t<h1>Central de Upload</h1>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"jumbotron\\\">\\r\\n\\t\\t\\t<form [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-lg-4\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"form-group file-ajust-material\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<input #myInput type=\\\"file\\\" (change)=\\\"onFileChanged($event.target.files)\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\taccept=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\\\">\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-lg-6\\\">\\r\\n\\t\\t\\t\\t\\t\\t<mat-form-field>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-label>Tipo de Documento</mat-label>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-select formControlName=\\\"tipoUpload\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-option *ngFor=\\\"let tipo of tipos\\\" [value]=\\\"tipo.id\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ tipo.nome }}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-option>\\r\\n\\t\\t\\t\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t\\t\\t\\t<mat-error>Campo Obrigatório</mat-error>\\r\\n\\t\\t\\t\\t\\t\\t</mat-form-field>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"col-lg-2\\\">\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-block btn-primary adjustPosition\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t[disabled]=\\\"!isUploadFiles || !form.valid\\\" (click)=\\\"submit()\\\">Importar</button>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</form>\\r\\n\\t\\t</div>\\r\\n\\t</section>\\r\\n\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-lg-12\\\">\\r\\n\\t\\t\\t<h1>Lista de Arquivos Importados</h1>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"row mr-1\\\">\\r\\n\\t\\t<div class=\\\"col-lg-7\\\">\\r\\n\\t\\t\\t<mat-form-field>\\r\\n\\t\\t\\t\\t<mat-label>Nome do Arquivo</mat-label>\\r\\n\\t\\t\\t\\t<input [(ngModel)]=\\\"filterFileName\\\" matInput placeholder=\\\"Nome do Arquivo\\\" />\\r\\n\\t\\t\\t</mat-form-field>\\r\\n\\t\\t</div>\\t\\t\\r\\n\\t\\t<div class=\\\"col-lg-4\\\">\\r\\n\\t\\t\\t<mat-form-field>\\r\\n\\t\\t\\t\\t<mat-label>Tipo de Documento</mat-label>\\r\\n\\t\\t\\t\\t<mat-select [(value)]=\\\"filterType\\\" >\\r\\n\\t\\t\\t\\t\\t<mat-option [value]=\\\"\\\"> Todos </mat-option>\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t<mat-option *ngFor=\\\"let tipo of tipos\\\" [value]=\\\"tipo.id\\\">\\r\\n\\t\\t\\t\\t\\t\\t{{ tipo.nome }}\\r\\n\\t\\t\\t\\t\\t</mat-option>\\r\\n\\t\\t\\t\\t</mat-select>\\r\\n\\t\\t\\t\\t<mat-error>Campo Obrigatório</mat-error>\\r\\n\\t\\t\\t</mat-form-field>\\r\\n\\t\\t</div>\\t\\t\\r\\n\\t\\t<div class=\\\"col-lg-1\\\">\\r\\n\\t\\t\\t<button (click)=\\\"find(true)\\\" class=\\\"btn btn-primary\\\">\\r\\n\\t\\t\\t\\tAtualizar\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"col-lg-12\\\" *ngIf=\\\"!length || length == 0\\\">\\r\\n\\t\\t<label>Não há arquivos importados</label>\\r\\n\\t</div>\\r\\n\\r\\n\\r\\n\\t<div class=\\\"row mt-3 mb-3\\\">\\r\\n\\t\\t<div class=\\\"col-lg-12\\\" *ngIf=\\\"length > 0\\\">\\r\\n\\t\\t\\t<div class=\\\"mat-elevation-z8\\\">\\r\\n\\t\\t\\t\\t<table mat-table [dataSource]=\\\"dataSource\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t<ng-container matColumnDef=\\\"CriadoPor\\\">\\r\\n\\t\\t\\t\\t\\t\\t<th mat-header-cell *matHeaderCellDef class=\\\"first-column text-left\\\">Solicitado Por</th>\\r\\n\\t\\t\\t\\t\\t\\t<td mat-cell *matCellDef=\\\"let element\\\" class=\\\"first-column text-left\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{ element.solicitante.nomeCompleto }}</td>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t\\t<ng-container matColumnDef=\\\"DataCadastro\\\">\\r\\n\\t\\t\\t\\t\\t\\t<th mat-header-cell *matHeaderCellDef class=\\\"text-left\\\">Data Solicitação</th>\\r\\n\\t\\t\\t\\t\\t\\t<td mat-cell *matCellDef=\\\"let element\\\" class=\\\"text-left\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{ element.dataSolicitacao | date: 'dd/MM/yyyy HH:mm' }}</td>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t\\t<ng-container matColumnDef=\\\"Arquivo\\\">\\r\\n\\t\\t\\t\\t\\t\\t<th mat-header-cell *matHeaderCellDef class=\\\"text-left\\\">Arquivo</th>\\r\\n\\t\\t\\t\\t\\t\\t<td mat-cell *matCellDef=\\\"let element\\\" class=\\\"text-left\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{ element.arquivos.fileName.substring(33) }}</td>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t\\t<ng-container matColumnDef=\\\"Tipo\\\">\\r\\n\\t\\t\\t\\t\\t\\t<th mat-header-cell *matHeaderCellDef class=\\\"text-left\\\">Tipo</th>\\r\\n\\t\\t\\t\\t\\t\\t<td mat-cell *matCellDef=\\\"let element\\\" class=\\\"text-left\\\">{{ element.tipo }}</td>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t\\t<ng-container matColumnDef=\\\"Status\\\">\\r\\n\\t\\t\\t\\t\\t\\t<th mat-header-cell *matHeaderCellDef class=\\\"text-left\\\">Status</th>\\r\\n\\t\\t\\t\\t\\t\\t<td mat-cell *matCellDef=\\\"let element\\\" class=\\\"text-left\\\">{{ element.status }}</td>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t\\t<ng-container matColumnDef=\\\"Mensagem\\\">\\r\\n\\t\\t\\t\\t\\t\\t<th mat-header-cell *matHeaderCellDef class=\\\"text-left\\\">Mensagem</th>\\r\\n\\t\\t\\t\\t\\t\\t<td mat-cell *matCellDef=\\\"let element\\\" class=\\\"text-left\\\">{{ element.mensagem }}</td>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t\\t<ng-container matColumnDef=\\\"Actions\\\">\\r\\n\\t\\t\\t\\t\\t\\t<th mat-header-cell *matHeaderCellDef class=\\\"text-center\\\">Link</th>\\r\\n\\t\\t\\t\\t\\t\\t<td mat-cell *matCellDef=\\\"let element\\\" class=\\\"icones text-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button (click)=\\\"getDownload(element.arquivos)\\\" mat-menu-item\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"d-flex align-items-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"material-icons mr-1\\\">attach_file</i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tDownload\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\r\\n\\t\\t\\t\\t\\t<tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n\\t\\t\\t\\t\\t<tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'completed' : row.pendings === 0 }\\\"></tr>\\r\\n\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t<mat-paginator [pageSizeOptions]=\\\"pageSizeOptions\\\" [length]=\\\"length\\\" [pageIndex]=\\\"pageIndex\\\"\\r\\n\\t\\t\\t\\t\\t[pageSize]=\\\"pageSize\\\" (page)=\\\"setPageSizeOptions($event)\\\"></mat-paginator>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvaW1wb3J0YXRpb24vY2VudHJhbC11cGxvYWQvY2VudHJhbC11cGxvYWQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { ImportationService } from '../services/importation.service';\r\nimport { SnackbarComponent } from 'src/app/shared/components/snackbar/snackbar.component';\r\nimport { MatSnackBar, MatTableDataSource, MatPaginator, PageEvent } from '@angular/material';\r\nimport { MediaUpload } from 'src/app/models/media-upload.interface';\r\nimport { Atividade } from 'src/app/models/atividade.interface';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ICentralUpload, FileCentralDownload, ITipoUpload } from 'src/app/models/central-upload.interface';\r\n\r\n@Component({\r\n\tselector: 'central-upload',\r\n\ttemplateUrl: './central-upload.component.html',\r\n\tstyleUrls: ['./central-upload.component.scss']\r\n})\r\n\r\nexport class CentralUploadComponent implements OnInit {\r\n\r\n\t@ViewChild('myInput', { static: false }) myInput: ElementRef;\r\n\t@ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n\tpublic filterType: string = '';\r\n\tpublic filterFileName: string = '';\r\n\tpublic tipos: ITipoUpload[] = [];\r\n\tpublic file: Set<File> = new Set()\r\n\tpublic loading: boolean = false;\r\n\tpublic isUploadFiles: boolean = false;\r\n\tpublic anexos: MediaUpload[] = [];\r\n\tpublic dataSource = new MatTableDataSource<ICentralUpload>([]);\r\n\tpublic loader: Boolean;\r\n\tpublic formData: FormData = new FormData();\r\n\tpublic form: FormGroup;\r\n\tpublic length: number;\r\n\tpublic pageSize = 5;\r\n\tpublic pageIndex = 0;\r\n\tpublic pageSizeOptions: number[] = [5, 10, 25, 50, 100];\r\n\tpublic displayedColumns: string[] = ['CriadoPor', 'DataCadastro', 'Tipo', 'Arquivo', 'Status', 'Mensagem', 'Actions'];\r\n\r\n\tconstructor(\r\n\t\tprivate importationService: ImportationService,\r\n\t\tprivate matSnackBar: MatSnackBar,\r\n\t\tprivate formBuilder: FormBuilder\r\n\t) { }\r\n\r\n\tngOnInit() {\r\n\t\tthis.form = this.formBuilder.group({\r\n\t\t\ttipoUpload: ['', [Validators.required]]\r\n\t\t});\r\n\t\tthis.getTypes();\r\n\t\tthis.find();\r\n\t}\r\n\r\n\tpublic submit() {\r\n\t\ttry {\r\n\t\t\tthis.loading = true;\r\n\t\t\tlet fileToUpload = this.formData.get(\"file\");\r\n\t\t\tconst formData: FormData = new FormData();\r\n\t\t\tformData.append('file', fileToUpload);\r\n\t\t\tformData.append(\"tipoUpload\", this.form.value.tipoUpload.toString());\r\n\t\t\tthis.importationService.sendUpload(formData).subscribe(\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tSnackbarComponent.showSuccess(this.matSnackBar, \"Upload iniciado, acompanhe seu progresso na tabela abaixo.\");\r\n\t\t\t\t\tthis.find();\r\n\t\t\t\t\tthis.myInput.nativeElement.value = \"\";\r\n\t\t\t\t\tthis.isUploadFiles = false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tSnackbarComponent.showError(this.matSnackBar, null, \"Erro no upload do arquivo\");\r\n\t\t\t\t\tthis.myInput.nativeElement.value = \"\";\r\n\t\t\t\t\tthis.isUploadFiles = false;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tcatch\r\n\t\t{\r\n\t\t\tthis.loading = false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getTypes(): void {\r\n\t\tthis.importationService.getTypes().subscribe(\r\n\t\t\tresponse => {\r\n\t\t\t\tthis.tipos = [...response.data];\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\t// Mensagem de Erro para Serviço Indisponível. Não tem como prosseguir\r\n\t\t\t}\r\n\t\t);\r\n\t}\t\r\n\r\n\tpublic find(reset: boolean = false): void {\r\n\t\tthis.loading = true;\r\n\r\n\t\tif (reset){\r\n\t\t\tthis.pageIndex = 0;\r\n\t\t\tthis.pageSize = 5;\r\n\t\t}\r\n\r\n\t\tconst pageIndex = (this.pageIndex + 1).toString();\r\n\t\tconst pageSize = this.pageSize.toString();\r\n\t\tthis.importationService.findUpload(pageIndex, pageSize, this.filterFileName, '', this.filterType, '', '').subscribe(\r\n\t\t\tresponse => {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.dataSource = new MatTableDataSource<ICentralUpload>(response.data);\r\n\t\t\t\tthis.length = response.length;\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tSnackbarComponent.showError(this.matSnackBar, error);\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tpublic getDownload(file: FileCentralDownload): void {\r\n\t\tthis.importationService.getFile(file.url).subscribe(\r\n\t\t\tresponse => {\r\n\t\t\t\tconst blob = new Blob([response.body], { type: 'application/octet-stream' });\r\n\t\t\t\tconst linkArquivo = window.URL.createObjectURL(blob);\r\n\t\t\t\tconst fileName = response.headers.get('content-disposition').split(';')[1].split('filename')[1].split('=')[1].trim();\r\n\t\t\t\tvar link = document.createElement(\"a\");\r\n\t\t\t\tlink.setAttribute(\"href\", linkArquivo.toString());\r\n\t\t\t\tlink.setAttribute(\"download\", fileName);\r\n\t\t\t\tlink.style.display = \"none\";\r\n\t\t\t\tdocument.body.appendChild(link);\r\n\t\t\t\tlink.click();\r\n\t\t\t\tdocument.body.removeChild(link);\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tpublic setPageSizeOptions(eventOptions: PageEvent) {\r\n\t\tthis.pageIndex = eventOptions.pageIndex;\r\n\t\tthis.pageSize = eventOptions.pageSize;\r\n\t\tthis.find();\r\n\t}\r\n\r\n\tpublic onFileChanged(files: FileList) {\r\n\t\tthis.formData = new FormData();\r\n\t\tif (files && files.length > 0) {\r\n\t\t\ttry {\r\n\t\t\t\tfor (let i = 0; i < files.length; i++) {\r\n\t\t\t\t\tconst fileToUpload: File = files.item(i);\r\n\t\t\t\t\tthis.formData.append('file', fileToUpload, fileToUpload.name);\r\n\t\t\t\t}\r\n\t\t\t\tthis.isUploadFiles = true;\r\n\t\t\t}\r\n\t\t\tcatch\r\n\t\t\t{\r\n\t\t\t\tthis.isUploadFiles = false;\r\n\t\t\t\tthis.formData = new FormData();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AutenticationService } from '../../services/autentication.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class ImportationRoutesGuard implements CanActivate {\r\n\t\r\n\tconstructor(\r\n\t\tprivate authenticationService: AutenticationService\r\n\t) { }\r\n\t\r\n\tcanActivate(event: ActivatedRouteSnapshot) {\r\n\t\treturn this.authenticationService.isPermitted(\"importacao\", event.url[0].path);\r\n\t}\r\n\t\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CentralUploadComponent } from './central-upload/central-upload.component';\r\nimport { ImportationRoutesGuard } from './importation-routes.guard';\r\n\r\n\r\nconst routes: Routes = [\r\n\t{ path: 'central-upload', component: CentralUploadComponent, canActivate: [ImportationRoutesGuard] },\r\n];\r\n\r\n@NgModule({\r\n\timports: [RouterModule.forChild(routes)],\r\n\texports: [RouterModule]\r\n})\r\nexport class ImportationRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImportationRoutingModule } from './importation-routing.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { MatFormFieldModule, MatInputModule, MatSelectModule, MatDatepickerModule, MatNativeDateModule, DateAdapter, MAT_DATE_FORMATS, MatRadioModule, MatProgressSpinnerModule, MatProgressBarModule, MatTableModule, MatPaginatorModule, MatCheckboxModule, MatDividerModule, MatCardModule, MatMenuModule } from '@angular/material';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NgxMaskModule } from 'ngx-mask';\r\nimport { CustomDateAdapter } from 'src/app/shared/dateAdapter/customDate.adapter';\r\nimport { MY_DATE_FORMATS } from 'src/app/shared/dateAdapter/my-date-formats.const';\r\nimport { CentralUploadComponent } from './central-upload/central-upload.component';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tCentralUploadComponent\r\n\t],\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tSharedModule,\r\n\t\tMatMenuModule,\r\n\t\tMatCardModule,\r\n\t\tMatCheckboxModule,\r\n\t\tMatDatepickerModule,\r\n\t\tMatNativeDateModule,\r\n\t\tMatDividerModule,\r\n\t\tMatFormFieldModule,\r\n\t\tMatInputModule,\r\n\t\tMatProgressSpinnerModule,\r\n\t\tMatProgressBarModule,\r\n\t\tMatRadioModule,\r\n\t\tMatSelectModule,\r\n\t\tMatPaginatorModule,\r\n\t\tMatTableModule,\r\n\t\tMatProgressSpinnerModule,\r\n\t\tMatProgressBarModule,\r\n\t\tNgxMaskModule.forRoot(),\r\n\t\tReactiveFormsModule,\r\n\t\tImportationRoutingModule\r\n\t],\r\n\tproviders: [\r\n\t\t{ provide: DateAdapter, useClass: CustomDateAdapter },\r\n\t\t{ provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }\r\n\t],\r\n\tentryComponents: [\r\n\t]\r\n})\r\nexport class ImportationModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ExtractionMassified } from 'src/app/models/extraction-massified.model';\r\nimport { ResponseList } from 'src/app/models/response-list.interface';\r\nimport { MediaUpload } from 'src/app/models/media-upload.interface';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class ImportationService {\r\n    \r\n    constructor(\r\n        private httpClient: HttpClient,\r\n    ) { }\r\n\r\n    public getFile(link: string): Observable<any> {\r\n        return this.httpClient.get<any>(link, {\r\n            responseType : 'blob' as 'json',\r\n            observe : 'response'\r\n        });\r\n    }    \r\n\r\n    public getTypes(): Observable<ResponseList> {\r\n        return this.httpClient.get<ResponseList>(`${environment.urlServices}/api/v1/central-uploads/tipos`, {})\r\n    }    \r\n        \r\n    public findUpload(pageIndex: string, \r\n                        pageSize: string, \r\n                        nomeArquivo?: string,\r\n                        statusId?: string,\r\n                        tipoId?: string,\r\n                        dataSolicitacaoInicial?: string,\r\n                        dataSolicitacaoFinal?: string\r\n                         ): Observable<ResponseList> {\r\n        return this.httpClient.get<ResponseList>(`${environment.urlServices}/api/v1/central-uploads`, {\r\n            params : {\r\n                PageSize: pageSize,\r\n                PageIndex: pageIndex,\r\n                NomeArquivo: nomeArquivo,\r\n                StatusId: statusId,\r\n                TipoId: tipoId,\r\n                DataSolicitacaoInicial: dataSolicitacaoInicial,\r\n                DataSolicitacaoFinal: dataSolicitacaoFinal\r\n            }\r\n        })\r\n    }\r\n\r\n    public sendUpload(file: any): Observable<any> {\r\n        return this.httpClient.post<Observable<any>>(`${environment.urlServices}/api/v1/central-uploads`, file)\r\n    }\r\n\t\t\t\r\n\r\n}"],"sourceRoot":"webpack:///"}